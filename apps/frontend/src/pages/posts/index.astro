---
import { CardOutlined, HeroBlogPost } from "@drowr/licid";
import Layout from "../../layouts/Layout.astro";
import TagNavigation from "../../components/TagNavigation.astro";
import { getAllPosts } from "../../lib/client";

const data = await getAllPosts();
const allPosts = data.publication.posts.edges;
---

<Layout>
  <div class="container">
    <HeroBlogPost />
    <TagNavigation />
    <div class="grid md:grid-cols-2">
      {
        allPosts.map((post) => (
          <CardOutlined
            brief={post.node.subtitle}
            title={post.node.title}
            publishedAt={post.node.publishedAt}
            tags={post.node.tags}
            slug={post.node.slug}
          >
            <Fragment slot="header" />
            <Fragment slot="footer" />
          </CardOutlined>
        ))
      }
    </div>
  </div>
</Layout>
