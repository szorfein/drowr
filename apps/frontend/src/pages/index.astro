---
import { CardOutlined, HeroHome } from "@drowr/licid";
import config from "../config/config.json";
import Layout from "../layouts/Layout.astro";
import { getAllPosts } from "../lib/client";

const data = await getAllPosts();
const allPosts = data.publication.posts.edges;
---

<Layout>
  <div class="container">
    <HeroHome author={config.site.author} />
    <!--
    {JSON.stringify(allPosts)}
    <TypoDisplayLarge title="Recent posts" />
    -->
    {
      allPosts.map((post) => (
        <CardOutlined
          brief={post.node.subtitle}
          title={post.node.title}
          publishedAt={post.node.publishedAt}
          tags={post.node.tags}
          slug={post.node.slug}
        >
          <Fragment slot="header" />
          <Fragment slot="footer" />
        </CardOutlined>
      ))
    }
  </div>
</Layout>
