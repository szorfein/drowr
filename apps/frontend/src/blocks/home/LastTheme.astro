---
import { getAllPostsByTag } from "@/lib/client";
import { CardOutlined } from "@drowr/licid";
import { Image } from "astro:assets";

const data = await getAllPostsByTag(1, "themes");
const allPosts = data.publication.posts.edges;
---

<!--
{JSON.stringify(allPosts)}
-->
<section class="mb-2">
  <h2 class="headline-large mx-auto mb-4 max-w-4xl text-center text-pretty">
    Last <strong class="text-primary dark:text-dark-primary"
      ><a
        href="/posts/themes"
        label="Explore all themes"
        class="hover:border-b-primary dark:hover:border-b-dark-primary hover:border-b"
        >desktops</a
      ></strong
    >
  </h2>
  <p class="body-small mb-6 text-center">
    <>
      {allPosts[0].node.title} -
      {allPosts[0].node.subtitle}
    </>
  </p>

  <div
    class="xs:h-90 col-span-8 grid h-80 grid-rows-1 sm:h-100 md:h-120 lg:h-140"
  >
    <a href={`/post/${allPosts[0].node.slug}`}>
      <Image
        src={allPosts[0].node.coverImage.url}
        alt={`Last theme ${allPosts[0].node.title}`}
        class="shadow-shadow dark:shadow-dark-shadow mx-auto translate-y-8 justify-center rounded-lg shadow-2xl"
        loading="lazy"
        decoding="async"
        width="990"
        height="557"
        fetchpriority="auto"
        format="webp"
      />
    </a>
  </div>
</section>
